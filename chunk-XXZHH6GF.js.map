{"version":3,"sources":["node_modules/nanoid/index.browser.js","Modules/editor/services/editor.service.ts","Modules/editor/classes/slide.class.ts","Modules/editor/classes/shape.class.ts","Modules/editor/components/organisms/filmstrip/filmstrip.component.ts","Modules/editor/components/organisms/filmstrip/filmstrip.component.html","Modules/editor/classes/tool.class.ts","Modules/editor/classes/preview.class.ts","Modules/editor/components/organisms/workspace/workspace.component.ts","Modules/editor/components/organisms/workspace/workspace.component.html","Modules/editor/components/pages/editor-page/editor-page.component.ts","Modules/editor/components/pages/editor-page/editor-page.component.html","Modules/editor/editor-routing.module.ts","Modules/editor/editor.module.ts"],"sourcesContent":["import { urlAlphabet } from './url-alphabet/index.js'\nlet random = bytes => crypto.getRandomValues(new Uint8Array(bytes))\nlet customRandom = (alphabet, defaultSize, getRandom) => {\n  let mask = (2 << (Math.log(alphabet.length - 1) / Math.LN2)) - 1\n  let step = -~((1.6 * mask * defaultSize) / alphabet.length)\n  return (size = defaultSize) => {\n    let id = ''\n    while (true) {\n      let bytes = getRandom(step)\n      let j = step\n      while (j--) {\n        id += alphabet[bytes[j] & mask] || ''\n        if (id.length === size) return id\n      }\n    }\n  }\n}\nlet customAlphabet = (alphabet, size = 21) =>\n  customRandom(alphabet, size, random)\nlet nanoid = (size = 21) =>\n  crypto.getRandomValues(new Uint8Array(size)).reduce((id, byte) => {\n    byte &= 63\n    if (byte < 36) {\n      id += byte.toString(36)\n    } else if (byte < 62) {\n      id += (byte - 26).toString(36).toUpperCase()\n    } else if (byte > 62) {\n      id += '-'\n    } else {\n      id += '_'\n    }\n    return id\n  }, '')\nexport { nanoid, customAlphabet, customRandom, urlAlphabet, random }\n","import { Injectable } from \"@angular/core\";\nimport { BehaviorSubject } from \"rxjs\";\nimport { nanoid } from \"nanoid\";\nimport { IPosition } from \"../classes/tool.class\";\nimport { Preview } from \"../classes/preview.class\";\n\nexport interface IShapeData{\n    id: string;\n    position: IPosition;\n    path: string;\n    stroke: string;\n    fill: string;\n    transform: string;\n}\n\nexport interface ISlideData{\n    id: string;\n    value: IShapeData[];\n}\n/**도형들 데이터를 담아놓자. */\n@Injectable()\nexport class EditorService {\n    //저장된 도형의 데이터\n    slides: ISlideData[] = [\n        {\n            id: nanoid(),\n            value: [{//슬라이드 내의 도형들\n                id: 'id1',\n                position: {\n                    start: {\n                        x: 200,\n                        y: 100\n                    },\n                    end: {\n                        x: 300,\n                        y: 300\n                    }\n                },\n                path: 'M200,100 l100,0 l0,200 l-100,0 l0,-200z',\n                stroke: 'black',\n                fill: 'green',\n                transform: ''\n            },]\n        },\n        {\n            id: nanoid(),\n            value:  [{\n                id: 'id2',\n                position: {\n                    start: {\n                        x:150,\n                        y: 150\n                    },\n                    end: {\n                        x: 250,\n                        y: 250\n                    }\n                },\n                path: 'M200,200 m-50,0 a50,50,0,1,0,100,0 a50,50,0,1,0,-100,0',\n                stroke: 'black',\n                fill: 'green',\n                transform: ''\n            },]\n        }\n    ];\n\n    $slideId = new BehaviorSubject<string>(this.slides.first().id);//굳이 상태관리 할 필요는 없음. 이벤트만 필요.\n    currentSlideId = '';//현재 어떤 슬라이드를 보고 있는지.\n    selectedShapeId = '';\n    $changedShapeId = new BehaviorSubject<string>('');\n\n    findSlide(id: string){\n        return this.slides.find(d => d.id === id);\n    }\n\n    isRotating = false;\n\n    mousePosition: IPosition = {\n        start: {\n          x: 0,\n          y: 0\n        },\n        end: {\n          x: 0,\n          y: 0\n        }\n    }\n\n    marginLeft = 250;\n    marginTop = 64;\n    previewClass: Preview | null = null;\n}","import { EditorService } from \"../services/editor.service\";\nimport { Shape } from \"./shape.class\";\n\n//슬라이드에 생명주기를 달아놓자..!\nexport class Slide {\n    isClicked = false;\n    svg: any;\n    id: string = '';\n    background: any;\n    text: string = '';\n    shapes: Shape[] = [];\n    \n    constructor(private editorService: EditorService, data: {\n        svg: any,\n        id: string,\n        background: any,\n        text: any,\n    }) {\n        this.svg = data.svg;\n        this.id = data.id;\n        this.background = data.background;\n        this.text = data.text;\n        \n        //this.addClickEvent();\n\n        /**\n         * option1: 원래 내가 하던 방식대로 이벤트를 다 듣고 있다가 내 이벤트이면 샥 하고 바꾼다.\n         * option2: 상위에서 이벤트를 듣고 있다가 slide를 관리하는 배열에서 샥 한다.\n         */\n\n        // //지금 이 방식은 뭔가 이상함!!!!!!\n        // this.editorService.slideId.subscribe(d =>{\n        //     if(d !== this.id) {\n        //         this.unclickStyle();\n        //         return;\n        //     }\n        //     this.clickStyle();\n        // });\n    }\n\n    addHoverEvent() {\n\n    }\n\n    addClickEvent() {\n        this.svg.on('click', (event: PointerEvent)=>{//eventEmitter로 페이지 인덱스 보내기\n            this.editorService.$slideId.next(this.id);\n        });\n    }\n\n    removeClickEvent(){\n        this.svg.on('click', null);\n    }\n\n    removeBorder(){\n        this.background.attr('style', '');\n    }\n\n    addBorder(){\n        this.background.attr('style', 'stroke: rgb(11, 87, 208); stroke-width: 20px;');\n    }\n\n    show(){\n        this.svg.attr('class', 'editor-show');\n    }\n\n    hide(){\n        this.svg.attr('class', 'editor-hide');\n    }\n\n    destroy(){\n        \n    }\n}","import { EditorService } from \"../services/editor.service\";\n\nexport class Shape{\n    id: string;\n    path: any;\n    pagesDiv: any;\n\n    constructor(private editorService: EditorService, data: {\n        id: string,\n        path: any,\n        pagesDiv: any,\n    }){\n        this.id = data.id;\n        this.path = data.path;\n        this.pagesDiv = data.pagesDiv\n    }\n\n     //도형 이벤트\n  hoverShape(path: any){\n    path.on('mouseenter', ()=>{        \n      if(this.editorService.isRotating) return;//다른 작업이 진행중이면 마우스 포인터 바꾸지 마!\n      if(this.pagesDiv === null) return;\n      this.pagesDiv.attr('class', 'cursor-move');\n    });\n\n    path.on('mouseleave', ()=>{\n        console.log('여기를 봐!', this.pagesDiv);\n        \n      if(this.pagesDiv === null) return;\n      this.pagesDiv.attr('class', 'cursor-default');\n    });\n  }\n}","import { Component, ElementRef, EventEmitter, OnInit, Output, ViewChild } from '@angular/core';\nimport { GlobalService } from '../../../../core/services/global.service';\nimport * as d3 from 'd3';\nimport { EditorService } from '../../../services/editor.service';\nimport { Slide } from '../../../classes/slide.class';\nimport { Shape } from '../../../classes/shape.class';\n\n@Component({\n  selector: 'app-filmstrip',\n  templateUrl: './filmstrip.component.html',\n  styleUrl: './filmstrip.component.scss'\n})\nexport class FilmstripComponent implements OnInit {\n  @ViewChild('thumnails', { static: true }) thumnails!: ElementRef;// DOM 요소에 대한 참조\n  canvas: any;\n  height: string;\n  slides: Slide[] = [];//슬라이드 객체들 관리하기\n  previousId: number = 0;\n\n  constructor(globalService: GlobalService, private readonly editorService: EditorService) {\n    this.height = globalService.layoutService.getBodyHeight();\n  }\n\n  ngOnInit(): void {\n    this.canvas = d3.select(this.thumnails.nativeElement);\n    this.editorService.slides.forEach((slideData, index) => {\n      const slideClass = this.createSlide(slideData, index);\n      slideClass.addClickEvent();\n      this.slides.push(slideClass);\n      slideData.value.forEach(shapeData => {\n        const shapePath = slideClass.svg.append('g')\n          .attr('id', shapeData.id)\n          .append('path');\n        this.drawShape(shapePath, shapeData);\n        const shapeClass = new Shape(this.editorService, {id: shapeData.id, path: shapePath, pagesDiv: null});\n        slideClass.shapes.push(shapeClass);\n      });\n    });\n    \n    this.editorService.$slideId.subscribe(id =>{\n      console.log('slideId', id);\n      this.slides.forEach((slide) => {\n        if(id === slide.id){\n          slide.isClicked = true;\n          slide.addBorder();\n          console.log();\n          \n          return;\n        }\n        slide.removeBorder();\n        slide.isClicked = false;\n      });\n    });\n\n    this.editorService.$changedShapeId.subscribe(id => {\n      console.log('이벤트 들어옴!@');\n      \n      if(!id) return;\n      const shapeData = this.editorService.findSlide(this.editorService.currentSlideId)?.value.find(d => d.id === this.editorService.selectedShapeId);\n      if(!shapeData){\n        console.log('해당하는 도형이 없음');\n        return;\n      }\n      const slideClass = this.slides.find(d => d.id === this.editorService.currentSlideId);\n      console.log('찾은 클래스', slideClass);\n      if(!slideClass) return;\n\n      const shape = slideClass?.shapes.find(d => d.id === this.editorService.selectedShapeId);\n      console.log('찾은 도형', shape);\n    \n      this.drawShape(shape?.path, shapeData);\n    })\n  }\n\n  ///svg 돔 덩어리들을 컴포넌트들처럼 생명주기를 달고 관리할 수는 없을까???????????????????????????????????????????????\n  /**페이지 생성하기 */\n  createSlide(slideData: any, index: number):  Slide{\n    const slideGroup = this.canvas.append('g')\n      .attr('transform', `translate(0, ${2 + 102 * index})`);\n    const text = slideGroup.append('text')\n      .attr('x', 31)\n      .attr('y', 20)\n      .text(index + 1);\n    const svg = slideGroup.append('g')\n      .attr('transform', 'translate(46,9)')\n      .append('svg')\n      .attr('xmlns', 'http://www.w3.org/2000/svg')\n      .attr('xmlns:xlink', 'http://www.w3.org/1999/xlink')\n      .attr('width', 150)\n      .attr('height', 90)\n      .attr('viewBox', '0 0 800 400')\n      .attr('id', slideData.id)\n\n    const background = svg.append('rect')\n      .attr('fill', '#ffffff')\n      .attr('width', '100%')\n      .attr('height', '100%')\n      .attr('rx', 60)\n      .attr('ry', 60);\n    const slide = new Slide(this.editorService, {\n      svg: svg,\n      id: slideData.id,\n      background: background,\n      text: text,\n    });\n    return slide;\n    /**이벤트 어카지... 얘네들도 컴포넌트처럼 관리할 수는 없나...? */\n  }\n\n  drawShape(svg: any, shape: any){\n    svg.attr('d', shape.path)\n      .attr('stroke', shape.stroke)\n      .attr('fill', shape.fill)\n      .attr('transform', shape.transform);\n}\n\n}\n","<svg #thumnails xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"200\" style=\"height: calc(100% - 4px)\" >\n    <rect fill=\"#fff\" fill-opacity=\"0\" width=\"100%\" height=\"100%\"></rect>\n    <!--슬라이드 하나-->\n            <!-- <rect width=\"200\" height=\"100\" fill=\"none\"></rect> -->\n    <!-- <g transform=\"translate(0 2)\">\n        <text x=\"31\" y=\"20\">1</text>\n        <g transform=\"translate(46 9)\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"150\" height=\"90\"\n                viewBox=\"0 0 800 400\">\n                <rect fill=\"#1a73e8\" fill-opacity=\"1\" width=\"100%\" height=\"100%\"></rect>\n                <g id=\"id1\">\n                    <path d=\"M100, 100 l100, 0 l0, 200 l-100, 0 l0, -200z\" stroke=\"black\" fill=\"green\"></path>\n                </g>\n            </svg>\n        </g>\n    </g>\n\n    <g transform=\"translate(0 104)\">\n        <text x=\"31\" y=\"20\">2</text>\n        <g transform=\"translate(46 9)\">\n            <svg xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"150\" height=\"90\"\n                viewBox=\"0 0 800 400\">\n                <rect fill=\"#1a73e8\" fill-opacity=\"1\" width=\"100%\" height=\"100%\"></rect>\n                <g id=\"id2\">\n                    <path d=\"M200,200 m-50,0 a50,50,0,1,0,100,0 a50,50,0,1,0,-100,0\" stroke=\"black\" fill=\"green\"></path>\n                </g>\n            </svg>\n        </g>\n    </g> -->\n</svg>","export interface IPosition {\n    start: {\n        x: number;\n        y: number;\n    },\n    end: {\n        x: number;\n        y: number;\n    }\n}\n\nexport class Tool{\n    static dx(position: IPosition){\n        return position.end.x - position.start.x;\n    }\n\n    static dy(position: IPosition){\n        return position.end.y - position.start.y;\n    }\n\n    static center(position: IPosition){\n        return {\n            x: Math.min(position.start.x, position.end.x) + Math.abs(Tool.dx(position))/2,\n            y: Math.min(position.start.y, position.end.y) + Math.abs(Tool.dy(position))/2\n        }\n    }\n}","import { EditorService } from \"../services/editor.service\";\nimport { IPosition, Tool } from \"./tool.class\";\n\nexport class Preview{\n    preview: any;\n\n    group: any;\n    groupLine: any;\n    groupRotate: any;\n    groupDots: any;\n\n    //buttons\n    rotateButton: any;\n    shapePosition: IPosition;\n    constructor(private editorService: EditorService, data: {\n        preview: any;\n        group: any;\n        groupLine: any;\n        groupRotate: any;\n        groupDots: any;\n        rotateButton: any;\n        shapePosition: any;\n    }){\n        this.preview = data.preview;\n        this.group = data.group;\n        this.groupLine = data.groupLine;\n        this.groupRotate = data.groupRotate;\n        this.groupDots = data.groupDots;\n        this.rotateButton = data.rotateButton;\n        this.shapePosition = data.shapePosition;\n\n        this.addMousedownRotateButton();\n        this.addMouseenterRotateButton();\n        this.addMouseleaveRotateButton();\n        // this.addClickGroup();\n    }\n\n    addMousedownRotateButton(){\n        this.rotateButton.on('mousedown', (event: MouseEvent)=>{\n            console.log('click', event);\n            event.stopPropagation();\n            this.editorService.isRotating = true;\n            \n            const shapeId = this.editorService.selectedShapeId;\n            this.editorService.mousePosition.start = {\n              x: this.shapePosition.start.x + Tool.dx(this.shapePosition)/2,\n              y: event.y - this.editorService.marginTop //TODO filmstrip 크기 저장해놓기\n            };\n          });\n    }\n\n    // addClickGroup(){\n    //     this.group.on('mousedown', (event: MouseEvent)=>{\n    //         console.log('dddd');\n            \n    //         event.stopPropagation();\n    //     })\n    // }\n\n    removeMousedownRotateButton(){\n        this.rotateButton.on('mousedown', null);\n    }\n\n    addMouseenterRotateButton(){\n        this.rotateButton.on('mouseenter', ()=>{\n            console.log('enter enter');\n            \n            this.preview.attr('class', 'cursor-cross');\n          });\n    }\n\n    removeMouseenterRotateButton(){\n        this.rotateButton.on('mouseenter', null);\n    }\n\n    removePath(){\n\n    }\n\n    destroy(){\n        this.removeMousedownRotateButton();\n        this.removeMouseenterRotateButton();\n        this.preview.select('*').remove();\n        this.preview.attr('pointer-events', 'none');\n        this.preview = null;\n        this.group = null;\n        this.groupLine = null;\n        this.groupRotate = null;\n        this.groupDots = null;\n        this.rotateButton = null;\n    }\n\n    addMouseleaveRotateButton(){\n        this.rotateButton.on('mouseleave', ()=>{\n            console.log('leave leave');\n            \n            this.preview.attr('class', 'cursor-default');\n          });\n    }\n\n}","import { Component, ElementRef, HostListener, OnDestroy, OnInit, ViewChild } from '@angular/core';\nimport { EditorService } from '../../../services/editor.service';\nimport * as d3 from 'd3';\nimport { Subscription } from 'rxjs';\nimport { Slide } from '../../../classes/slide.class';\nimport { IPosition, Tool } from '../../../classes/tool.class';\nimport { Preview } from '../../../classes/preview.class';\nimport { Shape } from '../../../classes/shape.class';\n\n@Component({\n  selector: 'app-workspace',\n  templateUrl: './workspace.component.html',\n  styleUrl: './workspace.component.scss'\n})\nexport class WorkspaceComponent implements OnInit, OnDestroy{\n  subscriptions: Subscription[] = [];\n  slides: Slide[] = [];//슬라이드 객체들 관리하기\n  //svg들\n  pagesDiv: any;\n  previewSvg: any;\n  selectedShape: any;\n  rotateValue: string = '';\n  //나중에 slide 객체 안에 해당하는 shapes 정보가 들어있으면 좋겠다.\n  \n  constructor(private readonly editorService: EditorService){}\n\n  ngOnInit(): void {\n    this.pagesDiv = d3.select('#pages');   \n    this.previewSvg = d3.select('#preview');\n    \n    //기존 존재하는 슬라이드 그리기.\n    this.editorService.slides.forEach((slideData, index) => {\n      const slideClass = this.createSlide(slideData, this.pagesDiv);\n      this.slides.push(slideClass);\n      //슬라이드 내 도형 그리기\n      slideData.value.forEach(shapeData => {\n        //g는 한 번만 생성돼야 하니 drawShape에서는 하지 않는다.(drawShape은 재활용 됨)\n        const shapePath = slideClass.svg.append('g')\n          .attr('id', shapeData.id)\n          .append('path');\n        this.drawShape(shapePath, shapeData);\n        const shapeClass = new Shape(this.editorService, {id: shapeData.id, path: shapePath, pagesDiv: this.pagesDiv});\n        slideClass.shapes.push(shapeClass);\n        shapeClass.hoverShape(shapeClass.path);\n        this.clickShape(shapeClass.path, shapeData);\n      })\n    });\n\n    //슬라이드 교체하기\n    const subscription1 = this.editorService.$slideId.subscribe(id =>{\n      console.log('id', id);\n      this.editorService.currentSlideId = id;\n      this.slides.forEach((slide) => {\n        if(id === slide.id){\n          slide.isClicked = true;\n          slide.show();          \n          return;\n        }\n        slide.hide();\n        slide.isClicked = false;\n      });\n    })\n    this.subscriptions.push(subscription1);\n  }\n\n  ngOnDestroy(): void {\n      this.subscriptions.forEach(d =>{\n        d.unsubscribe();\n      });\n  }\n\n  //페이지 생성하기\n  createSlide(slideData: any, pages: any){\n    const svg = pages.append('svg')\n      .attr('xmlns', 'http://www.w3.org/2000/svg')\n      .attr('xmlns:xlink', 'http://www.w3.org/1999/xlink')\n      .attr('width', '100%')//100%로 하니 부모 크기에 따라 자연스럽게 줄어드네...?\n      .attr('height', '100%')\n      .attr('viewBox', '0 0 800 400')//뷰박스 덕분에!!!! 일정 크기를 유지시켜준다! 고마워!\n      .attr('style', 'position:absolute; top:0px; left:0px')//이건 나중에 클래스로 해도 된다.\n      .attr('id', slideData.id);\n\n    const background = svg.append('rect')\n      .attr('fill', '#ffffff')\n      .attr('width', '100%')\n      .attr('height', '100%')\n      // .attr('x', 0)\n      // .attr('y', 0);\n\n    const slide = new Slide(this.editorService, {\n      svg: svg,\n      id: slideData.id,\n      background: background,\n      text: 'slide1',\n    });\n    return slide;\n  }\n\n  //TODO 같은거 반복되는 중. 위에것도!\n  drawShape(svg: any, shape: any){\n      svg.attr('d', shape.path)\n        .attr('stroke', shape.stroke)\n        .attr('fill', shape.fill)\n        .attr('transform', shape.transform);\n  }\n\n  /**\n    * 클릭하면 outline이 preview에 생겨야 함.\n  */\n  clickShape(path: any, shapeData: any){\n    path.on('mousedown', (event: MouseEvent)=>{\n      console.log('야호야호');\n      \n      event.stopPropagation();\n      this.selectedShape = shapeData;\n      this.editorService.selectedShapeId = shapeData.id;\n      this.drawOutline(shapeData);\n    })\n  }\n\n  drawOutline(shapeData: any){\n    this.previewSvg.select('*').remove();\n    // this.preview.attr('pointer-events', 'visiblePainted');\n    const previewGroup = this.previewSvg.append('g')\n      .append('g');\n    previewGroup.attr('transform', this.rotateValue);\n    const groupLine = previewGroup.append('g')\n      .attr('pointer-events', 'visiblePainted');\n    const groupRotate = previewGroup.append('g')\n      .attr('pointer-events', 'visiblePainted');\n    const groupDots = previewGroup.append('g')\n      .attr('pointer-events', 'visiblePainted');\n    groupLine.append('path')\n      .attr('d', shapeData.path)\n      .attr('fill', 'none')\n      .attr('stroke', '#1a73e8')\n      .attr('stroke-width', 10);\n    console.log('shapeData', shapeData, shapeData.position.start.x + Tool.dx(shapeData.position)/2);\n    \n    const rotateButton = groupRotate.append('circle')\n      .attr('cx', shapeData.position.start.x + Tool.dx(shapeData.position)/2)\n      .attr('cy', Math.min(shapeData.position.start.y, shapeData.position.end.y) - 20)\n      .attr('r', 5)\n      .attr('fill', 'pink');\n\n      // console.log('rotateButton', rotateButton.node());\n    this.editorService.previewClass = new Preview(this.editorService, {\n      preview: this.previewSvg,\n      group: previewGroup,\n      groupLine: groupLine,\n      groupRotate: groupRotate,\n      groupDots: groupDots,\n      rotateButton: rotateButton,\n      shapePosition: this.selectedShape.position\n    });\n  }\n\n  //host element나 descendnts의 이벤트까지 잡아옴.\n  @HostListener('mousemove', ['$event'])\n  onMousemove(event: MouseEvent) {\n    if(!this.editorService.isRotating) return;\n    this.editorService.mousePosition.end = {\n      x: event.x - this.editorService.marginLeft,\n      y: event.y - this.editorService.marginTop\n    }\n    const angle = this.calculateAngle(this.editorService.mousePosition);\n    //console.log('angle', angle);\n    if(!this.editorService.previewClass) return;\n    this.rotateValue = `rotate(${angle} ${Tool.center(this.selectedShape.position).x} ${Tool.center(this.selectedShape.position).y})`;\n    this.editorService.previewClass.group.attr('transform', this.rotateValue);\n  }\n\n  @HostListener('mouseup', ['$event'])\n  onMouseUp(event: MouseEvent){\n    if(this.editorService.isRotating){\n      this.editorService.isRotating = false;\n      const shapeData = this.editorService.findSlide(this.editorService.currentSlideId)?.value.find(d => d.id === this.editorService.selectedShapeId);\n      if(!shapeData){\n        console.log('해당하는 도형이 없음');\n        return;\n      }\n      shapeData.transform = this.rotateValue;\n      const slideClass = this.slides.find(d => d.id === this.editorService.currentSlideId);\n      console.log('찾은 클래스', slideClass);\n      if(!slideClass) return;\n\n      const shape = slideClass?.shapes.find(d => d.id === this.editorService.selectedShapeId);\n      console.log('찾은 도형', shape);\n\n      this.drawShape(shape?.path, shapeData);\n      this.editorService.$changedShapeId.next(this.editorService.selectedShapeId);\n      return;\n    }\n\n  }\n\n  @HostListener('mousedown', ['$event'])\n  onMouseDown(event: MouseEvent){\n    \n  }\n\n  //TODO 계산이 제대로 안된다!!!\n  calculateAngle(mousePosition: IPosition){\n    const pointA = mousePosition.start;\n    const pointB = mousePosition.end;\n    const pointC = Tool.center(this.selectedShape.position);\n    const vectorAC = { x: pointC.x - pointA.x, y: pointC.y - pointA.y };\n    const vectorBC = { x: pointC.x - pointB.x, y: pointC.y - pointB.y };\n    //console.log('mousePosition', pointA, pointB, pointC);\n  \n    const angleRadians = Math.atan2(vectorBC.y, vectorBC.x) - Math.atan2(vectorAC.y, vectorAC.x);\n    let angleDegrees = angleRadians * (180 / Math.PI);\n\n    // Normalize the angle to be between 0 and 360 degrees\n    angleDegrees = (angleDegrees + 360) % 360;\n    console.log(angleDegrees, angleDegrees, pointA, pointB, pointC);\n    \n    return angleDegrees;\n  }\n\n}\n","<div style=\"height:100%; position: relative; background-color: rebeccapurple;\">\n    <!--페이지용 svg-->\n    <div id=\"pages\"></div>\n    <!--작업 내역 미리보기하는 svg. page svg 아래에 올라감.-->\n    <svg id=\"preview\" xmlns=\"http://www.w3.org/2000/svg\" xmlns:xlink=\"http://www.w3.org/1999/xlink\" width=\"100%\" height=\"100%\" viewBox=\"0 0 800 400\"\n        style=\"position:absolute; top:0px; left:0px\" pointer-events=\"none\"></svg>\n    <!--pointer-events=\"none\"을 하면 포인터가 없는 것처럼 여겨짐.-->\n</div>","import { Component, HostListener } from '@angular/core';\nimport { GlobalService } from '../../../../core/services/global.service';\nimport { EditorService } from '../../../services/editor.service';\n\n@Component({\n  selector: 'app-editor-page',\n  templateUrl: './editor-page.component.html',\n  styleUrl: './editor-page.component.scss'\n})\nexport class EditorPageComponent {\n  height: string;\n\n  constructor(globalService: GlobalService, private editorService: EditorService){\n    this.height = globalService.layoutService.getBodyHeight();\n  }\n\n  //다른 곳 누르면 outline 사라지게\n      //이벤트가 자식에서부터 올라오는데, 이벤트 명이 같아야 함!\n  @HostListener('mousedown', ['$event'])\n  onMouseDown(event: MouseEvent){\n    console.log('from page');\n    this.editorService.previewClass?.destroy();\n    this.editorService.previewClass = null;\n  }\n}\n","<div style=\"display:flex;\" [style.height]=\"height\">\n    <div style=\"flex-shrink: 0;\" [style.width.px]=\"250\" style=\"background-color: salmon\">\n        <app-filmstrip></app-filmstrip>\n    </div>\n    <div style=\"flex-grow: 1;\">\n        <app-workspace></app-workspace>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { EditorPageComponent } from './components/pages/editor-page/editor-page.component';\n\nexport const routes: Routes = [\n  {\n    path: '',\n    component: EditorPageComponent\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class EditorRoutingModule { }","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { EditorPageComponent } from './components/pages/editor-page/editor-page.component';\nimport { EditorRoutingModule } from './editor-routing.module';\nimport { FilmstripComponent } from './components/organisms/filmstrip/filmstrip.component';\nimport { WorkspaceComponent } from './components/organisms/workspace/workspace.component';\nimport { EditorService } from './services/editor.service';\n\n\n\n@NgModule({\n  declarations: [\n    EditorPageComponent,\n    FilmstripComponent,\n    WorkspaceComponent\n  ],\n  imports: [\n    CommonModule,\n    EditorRoutingModule,\n  ],\n  exports: [\n  ],\n  providers:[\n    EditorService\n  ]\n})\nexport class EditorModule { }\n"],"mappings":"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","names":[],"x_google_ignoreList":[0]}