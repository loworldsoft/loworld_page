import{a as N}from"./chunk-NGFCJIOK.js";import"./chunk-TXJ5AKCE.js";import{F as $,P as L,S as P,V as B}from"./chunk-ARTN3UFO.js";import{b as V}from"./chunk-DE2QPC2X.js";import{a as R}from"./chunk-VUISPKI5.js";import{d as A}from"./chunk-R5FOAF2N.js";import"./chunk-ORS73STK.js";import"./chunk-RUVVEFL4.js";import{Za as W}from"./chunk-3HC7CDKU.js";import"./chunk-CARY4E7O.js";import{l as j}from"./chunk-TH5CS6OC.js";import{Aa as l,Cb as w,Fb as h,Jb as z,Kc as D,Lb as u,Mb as g,Nb as s,Ob as x,Pb as F,Tb as _,Wb as C,Yb as c,a as v,b as y,bb as M,fb as r,gb as b,ha as m,hc as T,ic as S,nd as H,pc as k,qa as I,ra as p,za as d}from"./chunk-6NI24FLG.js";var U=(t,a)=>a.id;function q(t,a){if(t&1){let e=_();s(0,"div",3),C("click",function(){let n=d(e).$implicit,i=c();return l(i.openWindow(n))}),F(1,"img",4),s(2,"span",5),T(3),x()()}if(t&2){let e=a.$implicit,o=c();h(o.iconBoxStyle),r(),w("src","./assets/svg/icons/"+e.icon,M),r(),h(o.iconLabel),r(),S(e.label)}}function G(t,a){if(t&1){let e=_();s(0,"app-window-modal",6),C("moveToFront",function(n){d(e);let i=c();return l(i.moveToFront(n))})("close",function(n){d(e);let i=c();return l(i.close(n))}),x()}if(t&2){let e=a.$implicit;w("id",e.id)("zIndex",e.zIndex)("metaData",e.metaData)}}var f=(()=>{class t{constructor(e){this.cdr=e,this.icons=[{component:$,icon:"chatting.svg",label:"\uCC44\uD305"},{component:V,icon:"project.svg",label:"\uD504\uB85C\uC81D\uD2B8"},{component:R,icon:"calendar.svg",label:"\uCE98\uB9B0\uB354"},{component:A,icon:"diary.svg",label:"\uB2E4\uC774\uC5B4\uB9AC"},{component:P,icon:"talk1.svg",label:"\uCC44\uB110\uD1A1 \uAD00\uB9AC\uC790"}],this.windows=[],this.nextId=1,this.zIndex=1e3,this.iconBoxStyle={width:"60px",heigth:"60px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",textAlign:"center",padding:"5px",cursor:"pointer",borderRadius:"8px",userSelect:"none",color:"white",gap:"3px"},this.iconStyle={fontSize:"40px",width:"40px",height:"40px"},this.iconLabel={maxWidth:"100%",fontSize:"14px",textAlign:"center",overflow:"hidden",display:"-webkit-box","-webkit-line-clamp":2,"-webkit-box-orient":"vertical",lineHeight:1.2,height:"2.4em",wordWrap:"break-word",whiteSpace:"normal"}}openWindow(e){console.log("meta:",e),console.log("windows:",this.windows),this.windows.push({id:W(),zIndex:this.zIndex++,metaData:e})}moveToFront(e){console.log(`\u{1F7E2} moveToFront \uD638\uCD9C\uB428, \uD074\uB9AD\uB41C id: ${e}`);let o=this.windows.find(i=>i.id===e);if(!o){console.log("\uC120\uD0DD\uD55C \uC708\uB3C4\uC6B0\uB97C \uCC3E\uC744 \uC218 \uC5C6\uC74C");return}let n=Math.max(...this.windows.map(i=>Number(i.zIndex)),this.zIndex);n!==Number(o.zIndex)&&(console.log(`\u{1F535} \uD604\uC7AC \uCD5C\uB300 zIndex: ${n}`),this.windows=this.windows.map(i=>i.id===e?y(v({},i),{zIndex:n+1}):i),this.zIndex=n+1,console.log("\u{1F7E3} \uC5C5\uB370\uC774\uD2B8\uB41C zIndex \uBAA9\uB85D:",this.windows.map(i=>({id:i.id,zIndex:i.zIndex}))),this.windows=[...this.windows])}close(e){this.windows=this.windows.filter(o=>o.id!==e)}static{this.\u0275fac=function(o){return new(o||t)(b(D))}}static{this.\u0275cmp=I({type:t,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"container"],[1,"app-icon",3,"style"],[3,"id","zIndex","metaData"],[1,"app-icon",3,"click"],[2,"width","50px","margin-right","5px",3,"src"],[1,"icon-label"],[3,"moveToFront","close","id","zIndex","metaData"]],template:function(o,n){o&1&&(s(0,"div",0),u(1,q,4,6,"div",1,z),x(),u(3,G,1,3,"app-window-modal",2,U)),o&2&&(r(),g(n.icons),r(2),g(n.windows))},styles:['@charset "UTF-8";.container[_ngcontent-%COMP%]{padding:10px;display:flex;flex-direction:column;gap:20px}.app-icon[_ngcontent-%COMP%]:hover{background:#fff3;transform:scale(1.05)}']})}}return t})();var J=[{path:"",component:f}],O=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=p({type:t})}static{this.\u0275inj=m({imports:[j.forChild(J)]})}}return t})();var le=(()=>{class t{static{this.\u0275fac=function(o){return new(o||t)}}static{this.\u0275mod=p({type:t})}static{this.\u0275inj=m({imports:[H,O,N,B]})}}return t})();k(f,[L],[]);export{le as WindowManagerModule};
